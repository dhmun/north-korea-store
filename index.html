
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Data Visualization</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <script>
        (function() {
            const theme = localStorage.getItem('theme') || (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
            document.documentElement.setAttribute('data-theme', theme);
        })();
    </script>
    <main class="content-wrapper">
        <header>
            <h1>북한 상점 데이터 <span class='accent-text'>인사이트</span></h1>
            <button id="theme-toggle" title="테마 전환">
                <svg class="sun" style="display:none;" viewBox="0 0 24 24"><path d="M12 2a1 1 0 0 1 1 1v2a1 1 0 1 1-2 0V3a1 1 0 0 1 1-1zm0 16a1 1 0 0 1 1 1v2a1 1 0 1 1-2 0v-2a1 1 0 0 1 1-1zM5.636 4.222a1 1 0 0 1 1.414 0l1.414 1.414a1 1 0 0 1-1.414 1.414L5.636 5.636a1 1 0 0 1 0-1.414zm12.728 12.728a1 1 0 0 1 1.414 0l1.414 1.414a1 1 0 0 1-1.414 1.414l-1.414-1.414a1 1 0 0 1 0-1.414zM4.222 18.364a1 1 0 0 1 0 1.414l-1.414 1.414a1 1 0 0 1-1.414-1.414l1.414-1.414a1 1 0 0 1 1.414 0zm12.728-12.728a1 1 0 0 1 0 1.414l-1.414 1.414a1 1 0 0 1-1.414-1.414l1.414-1.414a1 1 0 0 1 1.414 0zM21 12a1 1 0 0 1-1 1h-2a1 1 0 1 1 0-2h2a1 1 0 0 1 1 1zM5 12a1 1 0 0 1-1 1H2a1 1 0 1 1 0-2h2a1 1 0 0 1 1 1zm7-5a5 5 0 1 1 0 10 5 5 0 0 1 0-10z"/></svg>
                <svg class="moon" viewBox="0 0 24 24"><path d="M11.272 2.006a1 1 0 0 1 .536.488A9.95 9.95 0 0 0 13.951 4c1.49 0 2.892-.32 4.143-.895a1 1 0 0 1 1.21 .843 10.034 10.034 0 0 1-.77 6.046C17.26 13.56 14.716 15 12 15a9.986 9.986 0 0 1-7.994-14.82A1 1 0 0 1 4.72 1.24a10.05 10.05 0 0 1 6.551.766z"/></svg>
            </button>
        </header>
        <p class="subtitle">'도', '시', '동' 등 지역명이나 상점 설명으로 검색하면 트리맵과 연동하여 지능적으로 탐색할 수 있습니다.</p>
        <div class="controls-wrapper">
            <input type="search" id="search-input" placeholder="지역명, 상점 정보 등으로 검색">
            <button id="search-button" class="control-button">검색</button>
            <button id="up-button" class="control-button" disabled>상위로</button>
            <button id="reset-button" class="control-button">전체 보기</button>
        </div>
        <section>
            <h2 id="treemap-title">전체 지역 분포</h2>
            <div id="treemap-container"></div>
        </section>
        <section id="search-results-container">
            <h3 id="results-count"></h3>
            <div id="results-list"></div>
        </section>
    </main>
    <div id="infoModal" class="modal" aria-hidden="true"><div class="modal-content"><span class="close-button">&times;</span><h2 id="modal-title" style="color:var(--text-primary);"></h2><p id="modal-description" style="white-space: pre-wrap; color:var(--text-primary); opacity: 0.9;"></p></div></div>
    
    <script src="https://d3js.org/d3.v7.min.js" integrity="sha512-9b9r9J_Chand1l_GSHh+cQ2Sj1eG66MvTDAK+S2ADheRrmI3IAroJ1Q1/1T23T//352934R/M9XhTofxK3/cQ==" crossorigin="anonymous"></script>
    <script src="script.js" defer></script>
</body>
</html>
